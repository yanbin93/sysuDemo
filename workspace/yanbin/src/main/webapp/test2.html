<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Basic DataGrid - jQuery EasyUI Demo</title>
    <link rel="stylesheet" type="text/css" href="js/jquery/easyui/themes/default/easyui.css">  
<link rel="stylesheet" type="text/css" href="js/jquery/easyui/themes/icon.css">  
<link rel="stylesheet" type="text/css" href="js/jquery/easyui/demo/demo.css">  
<script type="text/javascript" src="js/jquery/easyui/jquery.min.js"></script>  
<script type="text/javascript" src="js/jquery/easyui/jquery.easyui.min.js"></script>  
    <script type="text/javascript" src="js/jquery/easyui/locale/easyui-lang-zh_CN.js"></script>
    <script type="text/javascript" src="js/jquery/easyui/jquery.edatagrid.js"></script>
    <script>
  
 	   $(function(){
 		  console.warn( "nothing selected, can't validate, returning nothing" );
            			$('#dg').datagrid({
 		               url: 'productsList?type=idsearch&searchid=1'//window.document.getElementById("searchid"),
 		           });

				
 	   });
 	  function searchId(){
 		 var searchid=$("#searchid").val();
 		  $('#dg').datagrid({
 	           url: 'productsList?type=idsearch&searchid='+searchid
 	       });
 	  }
    </script>
</head>
<body>
    <table id="dg" title="用户管理" class="easyui-datagrid"
            toolbar="#toolbar" pagination="true" idField="id" 
            rownumbers="true" fitColumns="true" singleSelect="false" >
        <thead>
            <tr>
            	<th data-options="field:'ck',checkbox:true"></th>
                <th field="products_name" width="50" editor="{type:'validatebox',options:{required:true}}" editor="{type:'validatebox',options:{required:true}}" >产品名称</th>
                <th field="products_other" width="50" editor="{type:'validatebox',options:{required:false}}">产品备注</th>
                <th field="manufacturer_id" width="50"  editor="{
                              type:'combobox',
                              options:{
                                  valueField:'id',
                                  textField:'cnt',
                                  url:'manufacturersServlet?type=idlist',
                                  required:'true',
                                  panelHeight:'auto'
                              }}">生产商id</th>
                <th field="seller_id" width="50"  editor="{
                              type:'combobox',
                              options:{
                                  valueField:'id',
                                  textField:'cnt',
                                  url:'sellersServlet?type=idlist',
                                  required:'true',
                                  panelHeight:'auto'
                              }}"> 销售商id</th>
                <th field="supplier_id" width="50"  editor="{
                              type:'combobox',
                              options:{
                                  valueField:'id',
                                  textField:'cnt',
                                  url:'suppliersServlet?type=idlist',
                                  required:'true',
                                  panelHeight:'auto'
                              }}">供应商id</th>
  
        </thead>
    </table>
     <div id="toolbar">
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-add" plain="true" onclick="javascript:$('#dg').edatagrid('addRow')">添加</a>
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-remove" plain="true" onclick="javascript:$('#dg').edatagrid('destroyRow')">删除</a>
         <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-save" plain="true" onclick="deleteRows()">批量删除</a>
              <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-remove" plain="true" onclick="javascript:searchId()">查询</a>
           <form id="ff" action="productsList?type=idsearch" method="post">
           <input id="searchid" name="searchid" class="easyui-validatebox" required="true" value="1" style="width: 200px;">
           <button  type="submit" class="easyui-linkbutton" data-options="iconCls:'icon-search'" >批次号查询</button>
           
           </form>
        	
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-save" plain="true" onclick="javascript:$('#dg').edatagrid('saveRow')">保存</a>
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-undo" plain="true" onclick="javascript:$('#dg').edatagrid('cancelRow')">撤销</a>
    </div>
    
</body>
</html>